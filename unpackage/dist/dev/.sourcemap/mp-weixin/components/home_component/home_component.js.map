{"version":3,"sources":[null,"webpack:///C:/Users/Administrator/Documents/HBuilderProjects/answer.ai/components/home_component/home_component.vue?5ef2","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/answer.ai/components/home_component/home_component.vue?7f4b","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/answer.ai/components/home_component/home_component.vue?003b","uni-app:///components/home_component/home_component.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/answer.ai/components/home_component/home_component.vue?8c51","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/answer.ai/components/home_component/home_component.vue?0161"],"names":["name","data","work_image","parts","methods","latexBackground","handleImageError","console","isLatex","chooseAndUploadImage","uni","count","sourceType","success","filePath","encoding","that","fail","upload_img_to_server","title","url","content","showCancel","icon","complete"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,koBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC4B5nB;EACAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACAC;IACA;IACAC;MACAD;MACA;QACA;QACA;UACAA;UACA;QACA;MACA;MACA;IACA;IACAE;MACA;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;UACA;UACAH;YACAI;YACAC;YACAF;cACA;cACAG;cACA;YACA;UACA;UACA;UACAA;QACA;QACAC;UACAV;QACA;MACA;IACA;IAEAW;MAAA;MACAX;MACAG;QACAS;MACA;MACAT;QACAU;QACAN;QACAd;QACAa;UACAN;UACA;YACA;YACA;YACAA;UACA,OACA;YACAG;cACAS;cACAE;cACAC;YACA;UACA;QAEA;QACAL;UACAP;YACAS;YACAI;UACA;QACA;QACAC;UACAd;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AAA03B,CAAgB,23BAAG,EAAC,C;;;;;;;;;;;ACA94B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/home_component/home_component.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home_component.vue?vue&type=template&id=2140ccb8&\"\nvar renderjs\nimport script from \"./home_component.vue?vue&type=script&lang=js&\"\nexport * from \"./home_component.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home_component.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/home_component/home_component.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home_component.vue?vue&type=template&id=2140ccb8&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.parts.length\n  var l0 =\n    g0 != 0\n      ? _vm.__map(_vm.parts, function (part, index) {\n          var $orig = _vm.__get_orig(part)\n          var m0 = _vm.isLatex(part)\n          var m1 = !!m0 ? _vm.isLatex(part) : null\n          var m2 = !!m0 && m1 ? _vm.latexBackground(part) : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home_component.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home_component.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<!-- 拍照搜题 -->\r\n\t\t<view class=\"button_item\" @click=\"chooseAndUploadImage\">\r\n\t\t\t<view class=\"text_frame\">\r\n\t\t\t\t<text class=\"text1\">拍照搜题</text>\r\n\t\t\t\t<text class=\"text2\">扫描并获取作业答案 By AI</text>\r\n\t\t\t</view>\r\n\t\t\t<image src=\"/static/camera.svg\"></image>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 提问框 -->\r\n\t\t<view class=\"response_result\" v-if=\"work_image\">\r\n\t\t\t<image mode=\"widthFix\" :src=\"work_image\" @error=\"handleImageError\"></image>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 标题框架:Chat Test -->\r\n\t\t<view class=\"title_frame\" v-if=\"parts.length != 0\">\r\n\t\t\t<text class=\"title_2\">解析题目数据</text>\r\n\t\t\t<view v-for=\"(part, index) in parts\" class=\"combined-text\">\r\n\t\t\t    <view v-if=\"!isLatex(part)\" class=\"answer_text\">{{ parts[index] }}</view>\r\n\t\t\t\t<image v-else style=\"width: 200px;height: 200px;\" :style=\"isLatex(part) ? latexBackground(part) : ''\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tname:\"home_component\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\twork_image:\"\",\r\n\t\t\t\tparts: []\n\t\t\t};\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlatexBackground(svgData) {\r\n\t\t\t    return `background-image: url(${svgData}); background-size: cover;`;\r\n\t\t\t},\r\n\t\t\thandleImageError(e) {\r\n\t\t\t\tconsole.log('Image loading error:', e);\r\n\t\t\t},\r\n\t\t\tisLatex(part) {\r\n\t\t\t    console.log(\"isLatex:\",part);\r\n\t\t\t    if (typeof part === 'string') {\r\n\t\t\t        // 检查是否是 SVG 图像的 Base64 编码数据\r\n\t\t\t        if (part.startsWith(\"data:image/svg+xml;base64\")) {\r\n\t\t\t\t\t\tconsole.log(\"part是svg\")\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t    return false;\r\n\t\t\t},\r\n\t\t\tchooseAndUploadImage() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t        count: 1, // 可选择的图片数量，这里设置为1表示每次只能选择一张图片\r\n\t\t\t\t        sourceType: ['album', 'camera'], // 图片的来源，可以是相册或相机\r\n\t\t\t\t        success: (res) => {\r\n\t\t\t\t\t\t  const tempFilePath = res.tempFilePaths[0];\t// 选择的图片临时文件路径\r\n\t\t\t\t\t\t  uni.getFileSystemManager().readFile({\r\n\t\t\t\t\t\t\t  filePath: tempFilePath,\r\n\t\t\t\t\t\t\t  encoding: 'base64',\r\n\t\t\t\t\t\t\t  success: (readFileRes) => {\r\n\t\t\t\t\t\t\t\t  const base64Data = 'data:image/jpeg;base64,' + readFileRes.data;\r\n\t\t\t\t\t\t\t\t  that.work_image = base64Data;\r\n\t\t\t\t\t\t\t\t  // console.log(\"that.work_image:\",that.work_image)\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  });\r\n\t\t\t\t          // 处理选择的图片逻辑，比如上传到服务器等\r\n\t\t\t\t\t\t  that.upload_img_to_server(res.tempFilePaths[0])\r\n\t\t\t\t        },\r\n\t\t\t\t        fail: (err) => {\r\n\t\t\t\t          console.log(err)\r\n\t\t\t\t        }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\tupload_img_to_server(filePath) {\r\n\t\t\t\tconsole.log(\"调用upload_img_to_server,现在已经改为调用use_mathAPI\")\r\n\t\t\t    uni.showLoading({\r\n\t\t\t\t\ttitle: \"解析中...\"\r\n\t\t\t\t})\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t        url: getApp().globalData.server + '/use_mathAPI',\r\n\t\t\t        filePath: filePath,\r\n\t\t\t        name: \"image\",\r\n\t\t\t        success: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\t\tconst dataArray = JSON.parse(res.data);\r\n\t\t\t\t\t\t\tthis.parts = dataArray\r\n\t\t\t\t\t\t\tconsole.log(this.parts);\r\n\t\t\t\t\t\t}\r\n\t\t\t            else {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle:\"测试弹窗\",\r\n\t\t\t\t\t\t\t\tcontent:\"statusCode:\" + res.statusCode,\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t        },\r\n\t\t\t        fail: () => {\r\n\t\t\t            uni.showToast({\r\n\t\t\t                title: 'Server error',\r\n\t\t\t                icon: 'none'\r\n\t\t\t            });\r\n\t\t\t        },\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t    });\r\n\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t}\n\t}\n</script>\n\n<style>\r\n\t.combined-text{\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.answer_text{\r\n\t\tcolor: #000;\r\n\t\tfont-family: Inter;\r\n\t\tfont-size: 14px;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: 400;\r\n\t\tline-height: normal;\r\n\t\t display: inline-block;\r\n\t\tletter-spacing: 0.28px;\r\n\t}\r\n\t.title_2{\r\n\t\tcolor: var(--gray-600, #52525B);\r\n\t\tfont-feature-settings: 'clig' off, 'liga' off;\r\n\t\tfont-family: Manrope;\r\n\t\tfont-size: 16px;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: 500;\r\n\t\tline-height: 24px; /* 150% */\r\n\t\tletter-spacing: -0.4px;\r\n\t}\r\n\t.title_frame{\r\n\t\tdisplay: flex;\r\n\t\twidth: 343px;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 12px;\r\n\t}\r\n\t.response_result{\r\n\t\twidth: 303px;\r\n\t\tpadding: 10px;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 10px;\r\n\t\tbackground-color: #f8f8f8;\r\n\t}\r\n\t\r\n\t.response_result image{\r\n\t\tborder-radius: 10px;\r\n\t\twidth: 100%;\r\n\t}\n.bottom-section {\r\n\t        position: absolute;\r\n\t        bottom: 0;\r\n\t        left: 0;\r\n\t        right: 0;\r\n\t    }\r\n\t.button_item{\r\n\t\twidth: 304px;\r\n\t\theight: 107px;\r\n\t\tflex-shrink: 0;\r\n\t\tdisplay: flex;\r\n\t\t align-items: center; /* 垂直居中 */\r\n\t\tborder-radius: 20px;\r\n\t\tbackground: #F5F6FA;\r\n\t\tpadding-left: 40px;\r\n\t\t\r\n\t\tposition: relative;\r\n\t}\r\n\t.text_frame{\r\n\t\tdisplay: inline-flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 11px;\r\n\t}\r\n\t.text1{\r\n\t\tcolor: #000;\r\n\t\tfont-family: ABeeZee;\r\n\t\tfont-size: 18px;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: 600;\r\n\t\tline-height: 16px; /* 88.889% */\r\n\t}\r\n\t.text2{\r\n\t\tcolor: #8B8F92;\r\n\t\tfont-family: ABeeZee;\r\n\t\tfont-size: 12px;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: 400;\r\n\t\tline-height: 16px; /* 133.333% */\r\n\t}\r\n\t.button_item image{\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;  /* 贴在上边 */\r\n\t\t    right: 0;  /* 贴在右边 */\r\n\t\twidth: 150px;\r\n\t\theight: 150px;\r\n\t\tflex-shrink: 0;\r\n\t}\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home_component.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home_component.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1693500186078\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}