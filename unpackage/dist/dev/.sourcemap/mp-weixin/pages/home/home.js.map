{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/Administrator/Documents/HBuildertX/answer.ai/pages/home/home.vue?970d","webpack:///C:/Users/Administrator/Documents/HBuildertX/answer.ai/pages/home/home.vue?9f2f","webpack:///C:/Users/Administrator/Documents/HBuildertX/answer.ai/pages/home/home.vue?9496","uni-app:///pages/home/home.vue","webpack:///C:/Users/Administrator/Documents/HBuildertX/answer.ai/pages/home/home.vue?b23f","webpack:///C:/Users/Administrator/Documents/HBuildertX/answer.ai/pages/home/home.vue?f4f9"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","list1","name","tar_value","cur_tabs","chat_content_list","Receive_data","onLoad","methods","click_tabbar","click_tabs","handleAskData","console","role","content","uni","title","callGPTApi","enableChunked","url","method","header","success","fail","complete","requestTask","handleChunk","accumulatedData","jsonBuffer","bracketCount","processData","setTimeout"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,aAAa,gKAEN;AACP,KAAK;AACL;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,2UAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AAAotB,CAAgB,orBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC8CxuB;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA,eACA;EACAC;IACA;MACAC;QACAC;MACA,GACA;QACAA;MACA;MACAC;MACAC;MACAC,oBACA;QACA;QACA;MACA,EACA;MACAC;IACA;EACA;EACAC,2BAEA;EACAC;IACAC;MACA;IAAA,CACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;MACA;MACA;MAEAC;QACAC;MACA;MAEA;QACAJ;MACA;IACA;IACA;IACAK;MAAA;MACAL;MACA;MACA;QACAM;QAAA;QACAC;QACAC;QACApB;QACAqB;UACA;QACA;;QACAC;UACA;UACAV;QACA;QACAW;UACAX;QACA;QACAY;UACAT;QAEA;MACA;MACAU;QACA;UACA;UACA;YACA;YACA;UACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAb;QACA;QACA;MAEA;IACA;IACAc;MACA;MACAC;;MAEA;MACA;MAEA;QACA;UACA;QACA;UACA;QACA;MACA;;MAEA;MACA;MACA;MAEA;QACA;QACAC;QAEA;UACAC;QACA;UACAA;QACA;;QAEA;QACA;UACA;UACA;UACA;UAEA;YACA;YACA;YACA;YACAD;UACA;YACA;YACA;UACA;QACA;MACA;;MAEA;MACA;QACA;QACAD;MACA;QACA;QACAA;MACA;IACA;IAGAG;MAAA;MACAlB;MACAA;MACA;QACA;QACA;QACAA;QACA;QACA;UACA;;UAEAmB;YACA;YACA;UACA;QACA;MACA;QACAnB;MACA;IACA,EACA;IACA;IACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;AC1OA;AAAA;AAAA;AAAA;AAAqhC,CAAgB,q8BAAG,EAAC,C;;;;;;;;;;;ACAziC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=92bb8f34&\"","var components\ntry {\n  components = {\n    uTabs: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-tabs/u-tabs\" */ \"@/uni_modules/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    home_component: function () {\n      return import(\n        /* webpackChunkName: \"components/home_component/home_component\" */ \"@/components/home_component/home_component.vue\"\n      )\n    },\n    AI_Chat: function () {\n      return import(\n        /* webpackChunkName: \"components/AI_Chat/AI_Chat\" */ \"@/components/AI_Chat/AI_Chat.vue\"\n      )\n    },\n    mine: function () {\n      return import(\n        /* webpackChunkName: \"components/mine/mine\" */ \"@/components/mine/mine.vue\"\n      )\n    },\n    custom_input: function () {\n      return import(\n        /* webpackChunkName: \"components/custom_input/custom_input\" */ \"@/components/custom_input/custom_input.vue\"\n      )\n    },\n    uTabbar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-tabbar/u-tabbar\" */ \"@/uni_modules/uview-ui/components/u-tabbar/u-tabbar.vue\"\n      )\n    },\n    uTabbarItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-tabbar-item/u-tabbar-item\" */ \"@/uni_modules/uview-ui/components/u-tabbar-item/u-tabbar-item.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function (name) {\n      return (_vm.tar_value = name)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"background\">\n\t\t<view class=\"title\">Answer AI China</view>\r\n\t\t\r\n\t\t<view style=\"margin-top:20rpx; width: 100%; padding-left: 80rpx; background: transparent; margin-bottom: 60rpx;\">\r\n\t\t\t<u-tabs :list=\"list1\"  @click=\"click_tabs\"></u-tabs>\r\n\t\t</view>\r\n\t\t<conten_frame></conten_frame>\r\n\t\t<view class=\"conten_frame\">\r\n\t\t\t<view v-if=\"tar_value==0\">\r\n\t\t\t\t<view v-if=\"cur_tabs=='AI搜题'\">\r\n\t\t\t\t\t<home_component></home_component>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"cur_tabs=='AI对话'\">\r\n\t\t\t\t\t<AI_Chat :chat_content_list=\"chat_content_list\"></AI_Chat>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view v-else-if=\"tar_value==1\">\r\n\t\t\t\t<mine></mine>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"tar_value==0 && cur_tabs=='AI对话'\"  style=\"position: fixed; bottom: 180rpx; background-color: white; border-radius: 200rpx;\">\r\n\t\t\t\t<custom_input @click_ask=\"handleAskData\"></custom_input>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view>{{answer}}</view>\r\n\t\t\t\t\t\r\n\t\t<!-- 底部 -->\t\t\t\r\n\t\t<view class=\"bottom-section\">\r\n\t\t\t<!-- 底部导航栏 -->\r\n\t\t\t<u-tabbar\r\n\t\t\t\t:value=\"tar_value\"\r\n\t\t\t\t@change=\"name => tar_value = name\"\r\n\t\t\t\t:fixed=\"true\"\r\n\t\t\t\t:placeholder=\"true\"\r\n\t\t\t\t:safeAreaInsetBottom=\"true\"\r\n\t\t\t>\r\n\t\t\t\t<u-tabbar-item text=\"首页\" icon=\"home\" @click=\"click_tabbar\"></u-tabbar-item>\r\n\t\t\t\t<u-tabbar-item text=\"我的\" icon=\"account\" @click=\"click_tabbar\"></u-tabbar-item>\r\n\t\t\t</u-tabbar>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport * as TextEncoding from 'text-encoding-shim';\r\n\tlet accumulatedData = \"\";  // 用于累积从chunk接收到的数据\n\t export default {\r\n\t        data() {\r\n\t            return {\r\n\t                list1: [{\r\n\t\t\t\t\t\tname: 'AI搜题'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'AI对话'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\ttar_value: 0,\r\n\t\t\t\t\tcur_tabs: 'AI搜题',\r\n\t\t\t\t\tchat_content_list: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'content': \"大家好，我是你的人工智能助手，我可以帮助你完成不同的任务。\",\r\n\t\t\t\t\t\t\t\"role\": \"system\",\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tReceive_data: 0\r\n\t            }\r\n\t        },\r\n\t\t\tonLoad() {\r\n\r\n\t\t\t},\r\n\t\t\tmethods: {\r\n\t\t\t\tclick_tabbar(res) {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t},\r\n\t\t\t\tclick_tabs(res){\r\n\t\t\t\t\t// console.log(res.name)\r\n\t\t\t\t\tthis.cur_tabs = res.name\r\n\t\t\t\t},\r\n\t\t\t\t// 处理提问框提出问题\r\n\t\t\t\thandleAskData(data){\r\n\t\t\t\t\tconsole.log(\"处理提问框提出问题：\",data)\r\n\t\t\t\t\t// 将其添加到深入提问数组\r\n\t\t\t\t\t// this.chat_content_list.push({\r\n\t\t\t\t\t// \t\"role\": \"user\",\r\n\t\t\t\t\t// \t\"content\": data\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// 将新对象添加到数组中并确保响应性\r\n\t\t\t\t\t let newItem = {\r\n\t\t\t\t\t       role: \"user\",\r\n\t\t\t\t\t       content: data\r\n\t\t\t\t\t     };\r\n\t\t\t\t\t this.chat_content_list.push(newItem);\r\n\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle:\"提问中...\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.callGPTApi((response) => {\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\t// AI对话接口\r\n\t\t\t\tcallGPTApi(payload,callback) {\r\n\t\t\t\t    console.log(\"调用GPT接口\")\r\n\t\t\t\t\t// console.log(\"添加后\",this.chat_content_list.length)\r\n\t\t\t\t\tconst requestTask = uni.request({\r\n\t\t\t\t\t\tenableChunked:true,  // 开启分片模式\r\n\t\t\t\t\t\turl: getApp().globalData.server + '/ask_chat',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: JSON.stringify(this.chat_content_list),\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/json' // 设置请求的 header\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tthis.Receive_data = 0\t\t\t// 接收数据完毕\r\n\t\t\t\t\t\t\t console.log('Request completed', res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.error('Request failed:', err);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\trequestTask.onChunkReceived((chunk)=>{\r\n\t\t\t\t\t\tif (!this.Receive_data) {\r\n\t\t\t\t\t\t\t// 是否正在接收数据\r\n\t\t\t\t\t\t\tthis.chat_content_list.push({\r\n\t\t\t\t\t\t\t\t\"role\": \"assistant\",\r\n\t\t\t\t\t\t\t\t\"content\": \"\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.Receive_data = 1\t\t\t// 正在接收数据\r\n\t\t\t\t\t    // 接收分片的数据\r\n\t\t\t\t\t\t// 使用TextDecoder将Uint8Array转换为字符串\r\n\t\t\t\t\t\t// const textChunk = new TextDecoder().decode(chunk.data);\r\n\t\t\t\t\t\t// console.log(`接收分片的数据 (大小：${textChunk.length} 字符):\\n${textChunk}`);\r\n\t\t\t\t\t\t// 这里处理和渲染你的数据\r\n\t\t\t\t\t\t// this.handleChunk(chunk);\r\n\t\t\t\t\t\t const uint8Array = new Uint8Array(chunk.data);\r\n\t\t\t\t\t\tconst str = new TextEncoding.TextDecoder('utf-8').decode(uint8Array);\r\n\t\t\t\t\t\t// 看一下 打印出来的结果\r\n\t\t\t\t\t\tconsole.log(str)\r\n\t\t\t\t\t\t// 调用 handleChunk 处理每个分片\r\n\t\t\t\t\t    this.handleChunk(str);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\thandleChunk(chunk) {\n\t\t\t\t\t// 添加新数据到累积数据\r\n\t\t\t\t\taccumulatedData += chunk;\r\n\t\t\t\t\r\n\t\t\t\t\t// 正则表达式用来找到 'data: {' 开始的JSON对象\r\n\t\t\t\t\tconst jsonStartRegex = /data: \\{/;\r\n\t\t\t\t\r\n\t\t\t\t\tlet tryParseJson = (data) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\treturn JSON.parse(data);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\t// 用来累积可能的 JSON 片段\r\n\t\t\t\t\tlet jsonBuffer = '';\r\n\t\t\t\t\tlet bracketCount = 0;\r\n\t\t\t\t\r\n\t\t\t\t\tfor (let i = 0; i < accumulatedData.length; i++) {\r\n\t\t\t\t\t\tconst char = accumulatedData[i];\r\n\t\t\t\t\t\tjsonBuffer += char;\r\n\t\t\t\t\r\n\t\t\t\t\t\tif (char === '{') {\r\n\t\t\t\t\t\t\tbracketCount++; // 找到一个未匹配的左花括号\r\n\t\t\t\t\t\t} else if (char === '}') {\r\n\t\t\t\t\t\t\tbracketCount--; // 找到一个匹配的右花括号\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\t// 检查是否有完整的 JSON 对象\r\n\t\t\t\t\t\tif (bracketCount === 0 && jsonBuffer.trim().match(jsonStartRegex)) {\r\n\t\t\t\t\t\t\t// console.log(\"jsonBuffer\",jsonBuffer)\r\n\t\t\t\t\t\t\t// 去除 'data: ' 前缀，并尝试解析JSON\r\n\t\t\t\t\t\t\tconst jsonData = tryParseJson(jsonBuffer.trim().substring(6));\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (jsonData) {\r\n\t\t\t\t\t\t\t\t// 如果解析成功，处理数据\r\n\t\t\t\t\t\t\t\tthis.processData(jsonData);\r\n\t\t\t\t\t\t\t\t// 清空 JSON 缓冲区，准备接收新的 JSON 对象\r\n\t\t\t\t\t\t\t\tjsonBuffer = '';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 如果解析失败，保留数据直到下一个完整的JSON对象\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t// 如果花括号计数不为 0（即 JSON 数据不完整），保留累积的数据\r\n\t\t\t\t\tif (bracketCount !== 0) {\r\n\t\t\t\t\t\t// 保存不完整的JSON对象到累积数据\r\n\t\t\t\t\t\taccumulatedData = jsonBuffer;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 如果所有 JSON 对象都已处理完毕，重置累积数据\r\n\t\t\t\t\t\taccumulatedData = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t},\n\n\n\t\t\t\tprocessData(parsedData) {\r\n\t\t\t\t    console.log(this.chat_content_list);\r\n\t\t\t\t\tconsole.log(\"length\",this.chat_content_list.length)\r\n\t\t\t\t    if (parsedData.type === 0 && parsedData.text && parsedData.text.content) {\r\n\t\t\t\t        // 获取数组的最后一个元素的索引\r\n\t\t\t\t        let lastIndex = this.chat_content_list.length - 1;\r\n\t\t\t\t        console.log(\"lastIndex\",lastIndex)\r\n\t\t\t\t        // 检查确保最后一个元素存在\r\n\t\t\t\t        if (lastIndex >= 0) {\r\n\t\t\t\t\t\t\t// console.log(this.chat_content_list[lastIndex].content)\r\n\t\t\t\t            \r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t// 修改数组中对象的属性并确保响应性\r\n\t\t\t\t\t\t\t\tthis.$set(this.chat_content_list[lastIndex], 'content', this.chat_content_list[lastIndex].content + parsedData.text.content);\r\n\t\t\t\t\t\t\t}, 500);  // 200毫秒延迟逐字显示\r\n\t\t\t\t        }\r\n\t\t\t\t    } else if (parsedData.type === 1 && parsedData.ext) {\r\n\t\t\t\t        console.log(\"Received status message:\", parsedData.ext);\r\n\t\t\t\t    }\r\n\t\t\t\t},\r\n\t\t\t\t// appendCharacterToDisplay(content) {\r\n\t\t\t\t//     // 你的逐字符渲染逻辑，例如更新文本框或其他UI元素\r\n\t\t\t\t// \tconsole.log(\"逐字符渲染\",content)\r\n\t\t\t\t// }\n\r\n\t\t\t}\r\n\t    }\n</script>\n\r\n\t\n<style>\r\n\t.conten_frame{\r\n\t\twidth: 644rpx;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 40rpx;\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding-top: 100rpx;\r\n\t\tflex-shrink: 0;\r\n\t\tborder-radius: 40rpx 40rpx 0rpx 0rpx;\r\n\t\tbackground: #FFF;\r\n\t\t\r\n\t\tmargin-top: auto;\r\n\t\twidth: 100%;\r\n\t\tflex: 1;  /* 这使得它能够自动扩展并占据所有剩余空间 */\r\n\t\tpadding-bottom: 300rpx;\r\n\t\tposition: relative; /* 添加此行 */\r\n\t}\n.background{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tflex-direction: column;\r\n\tpadding-top: 40rpx;\r\n\t\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tflex-shrink: 0;\r\n\tbackground: radial-gradient(circle, #8055FC, rgba(128, 85, 252, 0.00));\r\n}\r\n.title{\r\n\tcolor: #000;\r\n\tfont-family: Inter;\r\n\tfont-size: 24rpx;\r\n\tfont-style: normal;\r\n\tfont-weight: 700;\r\n\tline-height: normal;\r\n}\r\n\n</style>\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699693902044\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}